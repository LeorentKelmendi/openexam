<?php

// -*- php -*-
// 
// Copyright (C) 2009 Computing Department BMC, 
// Uppsala Biomedical Centre, Uppsala University.
// 
// File:   conf/config.inc
// Author: Anders LÃ¶vgren
// Date:   2009-06-28
// 
// This file contains the application settings.
//
// 
// The page title shown on each page. This is also used as subject 
// prefix for email reminder messages:
// 
define('PAGE_TITLE', _('OpenExam PHP - Online examination over the web'));

// 
// Show the W3C page validators.
// 
define("PAGE_VALIDATOR", false);

// 
// Define the base URL for the web application. We need to do this because
// email reminders are generated from code not running under a web server.
// 
define('BASE_URL', sprintf('%s://www.example.com/openexam', isset($_SERVER['HTTPS']) ? "https" : "http"));

// 
// Enable autosave and session length if non-zero. The value are in seconds.
// If autosave is set, then it defines the number of second from page load
// until the answer form is automatic posted (for saving).
// 
if (!defined("SESSION_AUTOSAVE")) {
        define("SESSION_AUTOSAVE", 0);
}
if (!defined("SESSION_LIFETIME")) {
        define("SESSION_LIFETIME", 3600);
}

// 
// Settings for CAS (Centralized Authentication System):
// 
define('CAS_HOST', 'cas-server.example.com');
define('CAS_PORT', 443);
define('CAS_PATH', '/server-path');
define('CAS_DEBUG', false);

// 
// Settings for PDF generation:
// 
define('PDF_ENGINE', 'htmldoc');            // Currently the only supported generator.
define('PDF_GENERATOR', 'OpenExam PHP');
define('PDF_LOGOTYPE', sprintf('%s/images/uu-logotype-4f-84.png', BASE_URL));
define('PDF_LINK_COLOR', '#000099');
define('PDF_LINK_STYLE', 'plain');
define('PDF_MEDIA_SIZE', 'a4');
define('PDF_MEDIA_TYPE', 'plain');
define('PDF_MEDIA_LANDSCAPE', false);
define('PDF_OUTPUT_FORMAT', 'pdf14');

// 
// Settings for SMTP server:
// 
define('SMTP_SERVER', 'smtp.example.com');  // Sender hostname
define('SMTP_HOST', 'smtp.example.com');    // The SMTP server
define('SMTP_PORT', 25);
// 
// Settings for authenticated SMTP:
// 
define('SMTP_AUTH', false);                 // Use authentication
define('SMTP_USER', null);
define('SMTP_PASS', null);

// 
// Setttings for InfoCGI:
//
define('INFO_CGI_USER', 'user');
define('INFO_CGI_PASS', 'pass');
define('INFO_CGI_SERVER', '');
define('INFO_CGI_PORT', 1234);

//
// Settings for LDAP (Lightweight Directory Access Protocol). At least
// the server should be defined. Setting the LDAP protocol might be
// required.
//
// For SSL: use ldaps://ldap.example.com as server URL and set port == 636.
//
define('LDAP_SERVER', 'ldap.example.com');
define('LDAP_BASEDN', 'ou=employees');
// define ('LDAP_PORT',   389);
// define ('LDAP_USER',   'username');
// define ('LDAP_PASS',   'password');
// define ('LDAP_PROTOCOL_VERSION', 3);
// define ('LDAP_REFERALS', 0);             // Required for tree root-level search against Active Directory.
define('LDAP_CACHE', true);                 // Turn on LDAP result cache.
//
// Custom LDAP search strings for overriding defaults defined inline
// in include/ldap.inc.
//
// define("LDAP_SEARCH_UID", "(uid=%s)");
// define("LDAP_SEARCH_SN", "(sn=%s)");
// define("LDAP_SEARCH_CN", "(cn=%s %s)");
// define("LDAP_SEARCH_PRINCIPAL", "(edupersonprincipalname=%s@example.com)");
// define("LDAP_SEARCH_GIVEN_NAME", "(givenname=%s)");
// 
// The contact address:
// 
define('CONTACT_NAME', _('System Manager'));
define('CONTACT_ADDRESS', 'sysadm@localhost');
define('CONTACT_STRING', sprintf("<a href=\"mailto:%s\">%s</a>", CONTACT_ADDRESS, CONTACT_NAME));

// 
// The addresses and subject for emails (for future extensions).
// 
define('OPENEXAM_RECV_ADDRESS', 'dummy@example.com');
define('OPENEXAM_SEND_ADDRESS', 'manager@localhost');
define('OPENEXAM_SEND_SUBJECT', _('OpenExam PHP'));

// 
// The string to use in X-Mailer header to tag messages.
// 
define('RFC822_XMAILER_HEADER', "OpenExam PHP Equinox/1.0");

// 
// How to format datetime for display by strftime(). There's three options here:
// 
//   1. Use '%x %X' for locale default format of date and time.
//   2. Use '%G-%m-%d %H:%M:%S' for ISO international date format.
//   3. Place format string within _("") and add translations.
// 
define('DATETIME_ISO', '%G-%m-%d %H:%M');      // Short ISO format
define('DATETIME_DB', '%G-%m-%d %H:%M:%S');   // Database datetime format.
define('DATETIME_FORMAT', '%x %X');
define('TIME_FORMAT', '%X');
define('DATE_FORMAT', '%x');
define('DATETIME_NONE', '2050-01-01');

// 
// Settings for result mail attachments.
// 
define('ATTACH_MAX_FILE_SIZE', 1024 * 1024);
define('ATTACH_MAX_NUM_FILES', 3);

// 
// Expose real identities to examinators.
// 
define('EXAMINATOR_VISIBLE_IDENTITIES', true);

// 
// Controls error logging:
// 
define("ERROR_LOG_TRACE", true);                   // Log call trace.
define("ERROR_LOG_PREFIX", "OpenExam PHP");        // Use this log prefix.
// 
// Media Player configuration. Affects which plugin gets embedded on the 
// question page to handle media URL's. See docs/README-MPLAYER for more 
// information and examples.
// 
// Constant identifiers for different media players:
// 
define('MEDIA_PLAYER_WINDOWS', 'wmp');             // Windows Media Player.
define('MEDIA_PLAYER_QUICKTIME', 'quicktime');     // Apples QuickTime player.
define('MEDIA_PLAYER_REALPLAY', 'realplay');       // Real Media Player.
define('MEDIA_PLAYER_ADOBE_FLASH', 'flash');       // Adobe Flash Player (Flowplayer GPL).
define('MEDIA_PLAYER_VIDEOLAN', 'vlc');            // Video LAN Client (VLC Plugin).
define('MEDIA_PLAYER_GENERIC', 'generic');         // Generic Media Player.
define('MEDIA_PLAYER_DEFAULT', MEDIA_PLAYER_GENERIC);  // Default (for unhandled content types).
define('MEDIA_PLAYER_BUILTIN', false);             // Explicit
// 
// Use this class to tweak the builtin media player configuration:
//   
// class MediaPlayerConfig
// {
//     // 
//     // Should return one of the MEDIA_PLAYER_XXX constants.
//     // 
//     public function getPlayerId($content) 
//     {
// 	// 
// 	// Override handling of QuickTime and MPEG-4:
// 	// 
// 	switch($content) {
// 	 case "video/quicktime":
// 	    return MEDIA_PLAYER_VIDEOLAN;
// 	 case "audio/mp4":
// 	 case "audio/mp4":
// 	    return MEDIA_PLAYER_ADOBE_FLASH;
// 	}
// 	
// 	// 
// 	// Use builtin config for all other content:
// 	// 
// 	return MEDIA_PLAYER_BUILTIN;
//     }
// }
// 
// Allow contributor to create and run examination test cases.
// 
define('TEST_CASE_ALLOW_CONTRIBUTOR', false);

//
// Related to PDF gereration. Controls which information to include in the
// generated result PDF. A bitmask of zero or more of these values is stored
// for each examiniation in the database.
//
define('RESULT_EXPOSE_EMPLOYEES', 1);   // Show responsible people for examination
define('RESULT_OTHERS_STATISTIC', 2);   // Include statistics of all students
//
// The kind of details to include in result by default:
//
define('RESULT_DETAILS_DEFAULT', RESULT_EXPOSE_EMPLOYEES | RESULT_OTHERS_STATISTIC);

// 
// Set whether media files can be uploaded thru HTTP POST. The upload directory
// should be a public accessable directory and its sub directory files should
// be writable by the web server user.
//
// The media upload max size (counted in bytes) must be <= max upload size set
// in php.ini, check the post_max_size and upload_max_filesize settings!
// 
define('MEDIA_UPLOAD_ENABLE', false);
define('MEDIA_UPLOAD_DIR', realpath(sprintf("%s/../source/media/files", dirname(__FILE__))));
define('MEDIA_UPLOAD_MAXSIZE', 4 * 1024 * 1024);

//
// The cache directory (for temporary files):
//
define('CACHE_DIR', '/var/cache/apache2/openexam');
?>
