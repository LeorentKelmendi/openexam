<!-- Main area -->

<div>
        <div class="tabs">
                <ul>
                        <li><a href="#tabs-1">Add new students</a></li>
                        <li><a href="#tabs-2">Manage existing students</a></li>
                </ul>
                <div id="tabs-1">

                        <div class="accordion">
                            <h3>Add single or multiple students</h3>
                            <div>
                                <p>
                                        Write usernames or person number of student(s) to add. <br />
                                        While adding multiple students, Usernames/Person number should be comma sperated.
                                </p>
                                <textarea placeholder="Write student usernames or person number of students here." style="height:100px; width:480px"></textarea>
                                
                                <div id="add_students_btn" style="display: block;margin:10px 0px 30px 0px;">        
                                        <span class="btn btn-success">
                                                <i class="fa fa-chevron-circle-right"></i>
                                                <span>Add students</span>
                                        </span>
                                </div>                                
                            </div>
                            <h3>Import from file</h3>
                            <div>
                                <p>
                                        Instructions about the file to be imported.
                                </p>
                                <input type="file" />
                                
                                <div id="import_students_by_file" style="display: block;margin:10px 0px 30px 0px;">        
                                        <span class="btn btn-success">
                                                <i class="fa fa-chevron-circle-right"></i>
                                                <span>Import students</span>
                                        </span>
                                </div>                                
                            </div>
                            <h3>Import from Uppdock</h3>
                            <div>
                                <p>
                                        Provide term details in following form
                                </p>
                                <div>
                                	Enter course code: <input type="text" /><br />
                                        Select Term: <select><option>Select</option></select>
                                </div>
                                
                                <div id="import_students_by_file" style="display: block;margin:10px 0px 30px 0px;">        
                                        <span class="btn btn-success">
                                                <i class="fa fa-chevron-circle-right"></i>
                                                <span>Import students</span>
                                        </span>
                                </div>                                
                            </div>
                        </div>
                </div>
                <div id="tabs-2">
                	<h4>Search exsisting students in this exam.</h4>
                        <input class="search-students" type="text" placeholder="Type student's real name or UpUnet-S username or Person number here to search." style="width:70%" /><br />
                       
                                <div id="import_students_by_file" style="display: block;margin:10px 0px 30px 0px;">        
                                        <span class="btn btn-success">
                                                <i class="fa fa-chevron-circle-right"></i>
                                                <span>Search</span>
                                        </span>
                                </div>                                
                       
                        <a href="#" id="lsit-all-students" class="prevent" style="color:#CC0066"> Show me all students in this exam</a><br />
                        
			<ul class="student-list" style="list-style:none; max-height:500px; overflow:auto;" >
                        	<li style="float:left; min-width:50%; display:none">
                                	<a href="#" class="prevent del-student" data-id=""><i class="fa fa-trash" style="color:#C02E3C"></i></a> 
                                	<span></span>
                                </li>
                        </ul>
                        <div style="clear:both"></div>
                </div>
        </div>
</div>

<script language="javascript">
var studentList = [{"id":"ahssh488", "value":"Ahsan Shahzad (198412174057) ahssh488"},{"id":"wwwahssh488", "value":"Ahsawwwn Shahzad (198412174057) ahssh488"},{"id":"aheeessh488", "value":"Ah2222san Shahzad (198412174057) ahssh488"}];

$(function() {

	$('.tabs').tabs();
	$( ".accordion" ).accordion({
      		heightStyle: "content"
	});

	
	$( ".search-students" ).autocomplete({
		source: studentList,
		select: function( event, ui ) {
			newItem = $('.student-list > li:first').clone();
			newItem.find('span').html(ui.item.value).end()
				.find('a').attr('data-id', ui.item.id).end()
				.show();
			$('.student-list').append(newItem);
			$(this).val('');
		}
		
	});
	
	$('#lsit-all-students').click(function() {

		$('.student-list > li:visible').remove();
		jQuery.each(studentList , function( i, studentData ) {
			//jQuery.each(studentData , function( username, student ) {			
				newItem = $('.student-list > li:first').clone();
				newItem.find('span').html(studentData.value).end()
					.find('a').attr('data-id', studentData.id).end()
					.show();
				$('.student-list').append(newItem);
			//});	
		});
		
		if(!$('.student-list > li:visible').length) {
			$('.student-list').append('<li>There are no registered users in this exam.</li>');
		}
		$('.student-list').show();
		
	});
	
	$(document).on('.del-student', 'click', function () {
		var student = $(this);
		ajax(
			baseURL + 'core/ajax/invigilator/student/delete', 
			{"id":$(this).attr('data-id')}, 
			function(status) {
				
				jQuery.each(studentList , function( i, studentData ) {
					if(studentData.id == $(student).attr('data-id')) {
						delete studentList[i];
					}
				});
				
				// hide from list
				$(student).parent().slideUp('500', function() {
					// hide
					$(this).remove();
				});
	
			}
		);
	});
	
});
</script>